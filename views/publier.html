<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="css/myStyle.css">
		<script type="text/javascript" src="jquery/jquery-3.3.1.min.js"></script>
		<script type="text/javascript" src="js/bootstrap.min.js"></script>
		<title>Nouvelle article</title>
	</head>
	
	<body>

		<div class="container-fluid">
			
			<header>
				<nav class="navbar navbar-inverted">
					<div class="navbar-header">
						<a href="" class="navbar-brand logo" >vendci.</a>
					</div>
					<ul class="nav navbar-nav navbar-left ">
						<li><a href="index.html">Accueil</a></li>
						<li><a href="produits.html">Produits</a></li>
						<li>

							<div class="dropdown">
								<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Categories
								<span class="caret"></span></button>
								<ul class="dropdown-menu">
								    <li><a href="vivriers.html">Produits Vivriers</a></li>
								    <div class="divider"></div>
								    <li><a href="industriels.html">Produits Industriel</a></li>
								    <div class="divider"></div>
								</ul>
							</div>
						</li>
					</ul>

					<ul class="nav navbar-nav navbar-right">
						<li>

							<div class="dropdown">
								<button class="btn btn-success dropdown-toggle" type="button" data-toggle="dropdown">Mon Compte
								<span class="caret"></span></button>
								<ul class="dropdown-menu">
								    <li><a href="inscription.html">s'enregistrer</a></li>
								    <div class="divider"></div>
								    <li><a href="connection.html">se connecter</a></li>
								    <div class="divider"></div>
								</ul>
							</div>
						</li>
					</ul>
				</nav>
			</header>

			<section>

				<div class="container" id="newA">

				  <form class="form-row" action="/action_page.php" id="form_publication" method="post" enctype="multipart/form-data">

				  	 <h2 class="heading">Nouvelle publication</h2>

					<div class="col-sm-7 navbar-left">
						<label for="#commune">Commune</label>
					  	<select class="form-control" id="commune" name="commune">
							<option class="selected">Choisir commune ....</option>
							<option>Abobo</option>
							<option>Agboville</option>
							<option>Anyama</option>
							<option>Codody</option>
							<option>Macory</option>
						</select>				
					</div>	

					<div class="col-sm-7 navbar-right">
						<label for="#Categories">Categries</label>
					  	<select class="form-control" name="categorie">
					  		<option class="selected">Choisir Categorie ...</option>
							<option>Produits Industrielles</option>
							<option>Produits Vivriers</option>
						</select>				
					</div>	


				    <div class="insImg col-sm-10 row" style="padding-left: 50px;">
				    	
				    	<div class="form-group  col-sm-3" style="border: 1px dotted blue; width: 100px; height: 100px; border-radius: 100px; margin: 150px 25px 20px; ">
				      	<label for="#img" id="labMage" style="">
							<span class=" glyphicon glyphicon-plus success"></span>
						</label>
					    <input type="file" accept=".png, .jpg, .jpeg" class="form-control" id="img" name="img" onchange="previewFile()">
					    </div>

					    <label for="#pwd_conf">Image du produit</label>
					    <div class="form-group  col-sm-6" class="preview" style="height: 350px; width: 400px; border: 2px solid gray; margin-top: 5px; padding: 0 !important; ">
					     	<img src="" style="height: 350px; width: 400px;" id="image">

					    </div>
				    </div>

				    <div class="form-group  col-sm-8" >
				      <label for="#desc">Description</label>
				      <input type="text" class="form-control" id="desc" placeholder="à propos du produit" name="desc">
				    </div>

				    <div class="form-group  col-sm-4">
				      <label for="#price">Prix</label>
				      <input type="number" class="form-control" id="price" placeholder="Prix en fcfa" name="prix">
				    </div>

				    <div class="form-group  col-sm-7" style="margin-left: 250px;">
				      <label for="#tel">Telephone</label>
				      <input type="text" class="form-control" id="desc" placeholder="Numero de Telephone" name="desc">
				    </div>


				
				    <button type="submit" id="submit" class="btn btn-default"  value=" Publier l'annonce " style="position: relative; left: 18%"> Publier l'annonce </button> 
				    
				    <div id="erreur" class="col-sm-12"></div>

				  </form>
				  <div id="erreurDoc"></div>
				</div>

			</section>


			<script type="text/javascript">
				
				//Verification du formulaire

				var formArt = document.getElementById("form_publication");
				var erreurDoc = document.getElementById("erreurDoc");

				var recuNewArt = formArt.addEventListener("submit",function(e){
					var arts = this;
					var erreurCall;

					for (var i = 0; i < arts.length; i++) {

						if (!arts[i].value) {
							if (arts['commune'].value == "Choisir commune ...." || arts['categorie'].value == "Choisir Categorie ...") {
								
								erreurDoc.innerHTML = "Tout les champs doivent etre remplie correctment pour publier votre annonce !";
							}
							erreurCall = "Tout les champs doivent etre remplie correctment pour publier votre annonce !";
						}
					}

					if (erreurCall) {
						e.preventDefault();
						erreurDoc.innerHTML = erreurCall;
						return false;
					}else{

						alert('annonce publié!');
					}

				})




// // Afiche image


			function previewFile() {
			  var preview = document.getElementById("image");
			  var file    = document.querySelector('input[type=file]').files[0];
			  var reader  = new FileReader();

			  reader.addEventListener("load", function () {
			    preview.src = reader.result;
			  }, false);

			  if (file) {
			    reader.readAsDataURL(file);
			  }
			}



		</script>	

	</body>
</html>